<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multi-Chain Wallet</title>
    <style>
        :root {
            --primary: #1a237e;
            --secondary: #311b92;
            --accent: #00d4aa;
            --danger: #ff416c;
            --success: #00b09b;
            --light: #f8f9fa;
            --dark: #333;
            --gray: #6c757d;
            --ethereum: #627eea;
            --cosmos: #2e3148;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a237e 0%, #311b92 100%);
            min-height: 100vh;
            padding: 20px;
            color: var(--dark);
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }
        
        header {
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            color: white;
            padding: 25px 30px;
            text-align: center;
        }
        
        h1 {
            font-size: 28px;
            margin-bottom: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .logo {
            font-size: 32px;
        }
        
        .subtitle {
            opacity: 0.9;
            font-size: 14px;
            margin-top: 5px;
        }
        
        .wallet-type-selector {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 10px;
            flex-wrap: wrap;
        }
        
        .wallet-type-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.3s;
        }
        
        .wallet-type-btn.active {
            background: var(--accent);
            border-color: var(--accent);
            font-weight: bold;
        }
        
        .main-content {
            display: flex;
            min-height: 600px;
        }
        
        .sidebar {
            width: 300px;
            background: var(--light);
            padding: 25px;
            border-right: 1px solid #e0e0e0;
        }
        
        .wallet-info {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }
        
        .wallet-address {
            font-family: monospace;
            background: #f0f2ff;
            padding: 12px;
            border-radius: 10px;
            word-break: break-all;
            font-size: 13px;
            margin: 10px 0;
            border: 1px solid #d0d4ff;
        }
        
        .balance-display {
            text-align: center;
            margin: 20px 0;
        }
        
        .balance-amount {
            font-size: 42px;
            font-weight: bold;
            color: var(--primary);
            margin: 10px 0;
        }
        
        .balance-label {
            color: var(--gray);
            font-size: 14px;
        }
        
        .nav-buttons {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .content-area {
            flex: 1;
            padding: 30px;
            overflow-y: auto;
        }
        
        .screen {
            display: none;
        }
        
        .screen.active {
            display: block;
        }
        
        .section-title {
            color: var(--primary);
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid #f0f0f0;
            font-size: 22px;
        }
        
        .btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            color: white;
            border: none;
            padding: 14px 20px;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            width: 100%;
            font-size: 15px;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 7px 14px rgba(26, 35, 126, 0.2);
        }
        
        .btn-secondary {
            background: var(--light);
            color: var(--dark);
            border: 1px solid #ddd;
        }
        
        .btn-success {
            background: linear-gradient(90deg, var(--success), #96c93d);
        }
        
        .btn-danger {
            background: linear-gradient(90deg, var(--danger), #ff4b2b);
        }
        
        .btn-metamask {
            background: linear-gradient(90deg, #f6851b, #e2761b);
        }
        
        .btn-evm {
            background: linear-gradient(90deg, var(--ethereum), #3c3c3d);
        }
        
        .btn-cosmos {
            background: linear-gradient(90deg, var(--cosmos), #4a4f6e);
        }
        
        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }
        
        .btn-icon {
            font-size: 18px;
        }
        
        .form-group {
            margin-bottom: 25px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #444;
        }
        
        input, select, textarea {
            width: 100%;
            padding: 14px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 16px;
            transition: border 0.3s;
        }
        
        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: var(--primary);
        }
        
        .input-with-btn {
            display: flex;
            gap: 10px;
        }
        
        .input-with-btn input {
            flex: 1;
        }
        
        .input-with-btn .btn {
            width: auto;
            padding: 14px 20px;
        }
        
        .alert {
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            font-size: 14px;
        }
        
        .alert-warning {
            background: #fff3cd;
            border: 1px solid #ffecb5;
            color: #856404;
        }
        
        .alert-success {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            color: #155724;
        }
        
        .alert-danger {
            background: #f8d7da;
            border: 1px solid #f5c6cb;
            color: #721c24;
        }
        
        .alert-info {
            background: #d1ecf1;
            border: 1px solid #bee5eb;
            color: #0c5460;
        }
        
        .welcome-screen {
            text-align: center;
            padding: 60px 40px;
        }
        
        .welcome-icon {
            font-size: 80px;
            color: var(--primary);
            margin-bottom: 30px;
        }
        
        .welcome-title {
            font-size: 32px;
            color: var(--primary);
            margin-bottom: 15px;
        }
        
        .welcome-text {
            color: var(--gray);
            margin-bottom: 40px;
            font-size: 18px;
            line-height: 1.6;
        }
        
        .welcome-buttons {
            display: flex;
            flex-direction: column;
            gap: 15px;
            max-width: 400px;
            margin: 0 auto;
        }
        
        .welcome-buttons .btn {
            width: 100%;
        }
        
        .mnemonic-words {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin: 20px 0;
        }
        
        .mnemonic-word {
            background: var(--light);
            padding: 12px;
            border-radius: 8px;
            text-align: center;
            font-family: monospace;
            font-weight: bold;
        }
        
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
        }
        
        .wallet-type-badge {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 10px;
            font-size: 11px;
            font-weight: bold;
            margin-left: 5px;
        }
        
        .badge-cosmos {
            background: linear-gradient(90deg, var(--cosmos), #4a4f6e);
            color: white;
        }
        
        .badge-evm {
            background: linear-gradient(90deg, var(--ethereum), #3c3c3d);
            color: white;
        }
        
        .badge-metamask {
            background: linear-gradient(90deg, #f6851b, #e2761b);
            color: white;
        }
        
        .chain-selector {
            display: flex;
            gap: 10px;
            margin: 15px 0;
            flex-wrap: wrap;
        }
        
        .chain-btn {
            padding: 8px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            background: white;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .chain-btn.active {
            border-color: var(--primary);
            background: #f0f2ff;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @media (max-width: 768px) {
            .main-content {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                border-right: none;
                border-bottom: 1px solid #e0e0e0;
            }
            
            .welcome-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .welcome-buttons .btn {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><span class="logo">ü¶ë</span> Multi-Chain Wallet</h1>
            <div class="subtitle">Cosmos (SEI) –∏ EVM (Ethereum) —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å</div>
            
            <div class="wallet-type-selector" id="walletTypeSelector">
                <button class="wallet-type-btn active" onclick="switchWalletType('cosmos')">Cosmos</button>
                <button class="wallet-type-btn" onclick="switchWalletType('evm')">EVM</button>
                <button class="wallet-type-btn" onclick="connectMetamask()">Metamask</button>
            </div>
        </header>
        
        <div class="main-content">
            <div class="sidebar" id="sidebar" style="display: none;">
                <div class="wallet-info">
                    <div class="balance-display">
                        <div class="balance-label">–ë–∞–ª–∞–Ω—Å <span id="balanceSymbol">SEI</span></div>
                        <div class="balance-amount" id="balanceAmount">0</div>
                        <div class="balance-label" id="balanceUsd">‚âà $0.00</div>
                    </div>
                    
                    <div style="margin: 15px 0;">
                        <label>–ê–¥—Ä–µ—Å –∫–æ—à–µ–ª—å–∫–∞:</label>
                        <div class="wallet-address" id="walletAddress"></div>
                        <div id="walletTypeBadge" class="wallet-type-badge badge-cosmos">Cosmos</div>
                    </div>
                    
                    <button class="btn btn-secondary" onclick="copyAddress()">
                        <span class="btn-icon">üìã</span> –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∞–¥—Ä–µ—Å
                    </button>
                </div>
                
                <div class="nav-buttons">
                    <button class="btn" onclick="showScreen('dashboard')">
                        <span class="btn-icon">üìä</span> –û–±–∑–æ—Ä
                    </button>
                    <button class="btn" onclick="showScreen('send')">
                        <span class="btn-icon">üöÄ</span> –û—Ç–ø—Ä–∞–≤–∏—Ç—å
                    </button>
                    <button class="btn" onclick="showScreen('receive')">
                        <span class="btn-icon">üì•</span> –ü–æ–ª—É—á–∏—Ç—å
                    </button>
                    <button class="btn" onclick="showScreen('security')">
                        <span class="btn-icon">üîê</span> –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
                    </button>
                    <button class="btn btn-danger" onclick="logout()">
                        <span class="btn-icon">üö™</span> –í—ã–π—Ç–∏
                    </button>
                </div>
            </div>
            
            <div class="content-area" id="contentArea">
                <!-- –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π —ç–∫—Ä–∞–Ω -->
                <div class="screen active" id="welcomeScreen">
                    <div class="welcome-icon">ü¶ë</div>
                    <h1 class="welcome-title">Multi-Chain Wallet</h1>
                    <p class="welcome-text">
                        –°–æ–∑–¥–∞–≤–∞–π—Ç–µ –∏ —É–ø—Ä–∞–≤–ª—è–π—Ç–µ Cosmos (SEI) –∏ EVM –∫–æ—à–µ–ª—å–∫–∞–º–∏<br>
                        –ü–æ–ª–Ω–∞—è –æ—Ñ—Ñ–ª–∞–π–Ω –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
                    </p>
                    
                    <div class="welcome-buttons">
                        <button class="btn btn-cosmos" onclick="setCreateWalletType('cosmos'); showScreen('createWallet')">
                            <span class="btn-icon">‚ú®</span> –°–æ–∑–¥–∞—Ç—å Cosmos –∫–æ—à–µ–ª–µ–∫
                        </button>
                        <button class="btn btn-evm" onclick="setCreateWalletType('evm'); showScreen('createWallet')">
                            <span class="btn-icon">üî∑</span> –°–æ–∑–¥–∞—Ç—å EVM –∫–æ—à–µ–ª–µ–∫
                        </button>
                        <button class="btn btn-metamask" onclick="connectMetamask()">
                            <span class="btn-icon">ü¶ä</span> –ü–æ–¥–∫–ª—é—á–∏—Ç—å Metamask
                        </button>
                        <button class="btn" onclick="setImportWalletType('cosmos'); showScreen('importWallet')">
                            <span class="btn-icon">üì•</span> –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ—à–µ–ª–µ–∫
                        </button>
                    </div>
                    
                    <div class="alert alert-info" style="margin-top: 40px; max-width: 600px; margin-left: auto; margin-right: auto;">
                        <strong>‚ÑπÔ∏è –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:</strong><br>
                        ‚Ä¢ Cosmos (SEI) –∫–æ—à–µ–ª—å–∫–∏<br>
                        ‚Ä¢ EVM –∫–æ—à–µ–ª—å–∫–∏ (Ethereum —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å)<br>
                        ‚Ä¢ –ò–º–ø–æ—Ä—Ç –≤ Metamask<br>
                        ‚Ä¢ –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–ª—é—á–µ–π<br>
                        ‚Ä¢ –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ—Ñ—Ñ–ª–∞–π–Ω –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
                    </div>
                </div>
                
                <!-- –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ—à–µ–ª—å–∫–∞ -->
                <div class="screen" id="createWalletScreen">
                    <h2 class="section-title">–°–æ–∑–¥–∞–Ω–∏–µ –∫–æ—à–µ–ª—å–∫–∞</h2>
                    
                    <div class="chain-selector">
                        <button class="chain-btn active" id="createCosmosBtn" onclick="setCreateWalletType('cosmos')">
                            <span>üåå</span> Cosmos
                        </button>
                        <button class="chain-btn" id="createEVMBtn" onclick="setCreateWalletType('evm')">
                            <span>üî∑</span> EVM
                        </button>
                    </div>
                    
                    <div class="alert alert-info">
                        –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —ç—Ç–∏ —Å–ª–æ–≤–∞ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –º–µ—Å—Ç–µ. –≠—Ç–æ –≤–∞—à –∫–ª—é—á –∫ –∫–æ—à–µ–ª—å–∫—É.
                    </div>
                    
                    <div class="mnemonic-words" id="mnemonicWords"></div>
                    
                    <div class="form-group">
                        <label>–¢–∏–ø –∫–æ—à–µ–ª—å–∫–∞:</label>
                        <div style="padding: 10px; background: #f0f0f0; border-radius: 10px; font-weight: bold;">
                            <span id="createWalletTypeDisplay">Cosmos (SEI)</span>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>–ü–∞—Ä–æ–ª—å –¥–ª—è —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è:</label>
                        <input type="password" id="walletPassword" placeholder="–ú–∏–Ω–∏–º—É–º 8 —Å–∏–º–≤–æ–ª–æ–≤">
                    </div>
                    
                    <div class="form-group">
                        <label>–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å:</label>
                        <input type="password" id="walletPasswordConfirm" placeholder="–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–∞—Ä–æ–ª—å">
                    </div>
                    
                    <div class="alert alert-warning">
                        <strong>‚ö†Ô∏è –í–∞–∂–Ω–æ:</strong> –ó–∞–ø–∏—à–∏—Ç–µ –º–Ω–µ–º–æ–Ω–∏—á–µ—Å–∫—É—é —Ñ—Ä–∞–∑—É –Ω–∞ –±—É–º–∞–≥–µ. 
                        –ù–µ —Ö—Ä–∞–Ω–∏—Ç–µ –≤ –æ–±–ª–∞–∫–µ –∏ –Ω–µ –¥–µ–ª–∞–π—Ç–µ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã!
                    </div>
                    
                    <div style="display: flex; gap: 15px;">
                        <button class="btn btn-secondary" onclick="showScreen('welcome')">
                            ‚Üê –ù–∞–∑–∞–¥
                        </button>
                        <button class="btn btn-success" onclick="createNewWallet()" id="createWalletBtn">
                            <span class="btn-icon">‚úÖ</span> –°–æ–∑–¥–∞—Ç—å –∫–æ—à–µ–ª–µ–∫
                        </button>
                    </div>
                </div>
                
                <!-- –ò–º–ø–æ—Ä—Ç –∫–æ—à–µ–ª—å–∫–∞ -->
                <div class="screen" id="importWalletScreen">
                    <h2 class="section-title">–ò–º–ø–æ—Ä—Ç –∫–æ—à–µ–ª—å–∫–∞</h2>
                    
                    <div class="chain-selector">
                        <button class="chain-btn active" id="importCosmosBtn" onclick="setImportWalletType('cosmos')">
                            <span>üåå</span> Cosmos
                        </button>
                        <button class="chain-btn" id="importEVMBtn" onclick="setImportWalletType('evm')">
                            <span>üî∑</span> EVM
                        </button>
                    </div>
                    
                    <div class="form-group">
                        <label>–¢–∏–ø –∫–æ—à–µ–ª—å–∫–∞:</label>
                        <div style="padding: 10px; background: #f0f0f0; border-radius: 10px; font-weight: bold;">
                            <span id="importWalletTypeDisplay">Cosmos (SEI)</span>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>–ú–Ω–µ–º–æ–Ω–∏—á–µ—Å–∫–∞—è —Ñ—Ä–∞–∑–∞ (12 —Å–ª–æ–≤):</label>
                        <textarea id="importMnemonic" rows="3" placeholder="–í–≤–µ–¥–∏—Ç–µ 12 —Å–ª–æ–≤ —á–µ—Ä–µ–∑ –ø—Ä–æ–±–µ–ª"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label>–ü–∞—Ä–æ–ª—å –¥–ª—è —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è:</label>
                        <input type="password" id="importPassword" placeholder="–ú–∏–Ω–∏–º—É–º 8 —Å–∏–º–≤–æ–ª–æ–≤">
                    </div>
                    
                    <div style="display: flex; gap: 15px;">
                        <button class="btn btn-secondary" onclick="showScreen('welcome')">
                            ‚Üê –ù–∞–∑–∞–¥
                        </button>
                        <button class="btn btn-success" onclick="importExistingWallet()" id="importWalletBtn">
                            <span class="btn-icon">üì•</span> –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å
                        </button>
                    </div>
                </div>
                
                <!-- –î–∞—à–±–æ—Ä–¥ -->
                <div class="screen" id="dashboardScreen">
                    <h2 class="section-title">–û–±–∑–æ—Ä –∫–æ—à–µ–ª—å–∫–∞</h2>
                    
                    <div class="alert alert-info" id="networkInfo">
                        –ö–æ—à–µ–ª–µ–∫ –∑–∞–≥—Ä—É–∂–µ–Ω —É—Å–ø–µ—à–Ω–æ!
                    </div>
                    
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin: 30px 0;">
                        <div class="wallet-info">
                            <div style="font-size: 24px; font-weight: bold; color: var(--primary);" id="dashboardSymbol">SEI</div>
                            <div style="font-size: 32px; margin: 10px 0; font-weight: bold;" id="dashboardBalance">0</div>
                            <div class="balance-label">‚âà $<span id="dashboardUsd">0.00</span></div>
                        </div>
                        
                        <div class="wallet-info">
                            <div style="font-size: 24px; font-weight: bold; color: var(--primary);">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</div>
                            <div style="margin: 15px 0;">
                                <div>–¢–∏–ø: <span id="walletTypeDisplay">Cosmos</span></div>
                                <div>–ê–¥—Ä–µ—Å: <span id="shortAddress">sei1...abcd</span></div>
                                <div>–°–µ—Ç—å: <span id="networkName">SEI</span></div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="alert alert-success" id="walletDetails">
                        –ö–æ—à–µ–ª–µ–∫ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!
                    </div>
                </div>
                
                <!-- –û—Ç–ø—Ä–∞–≤–∫–∞ -->
                <div class="screen" id="sendScreen">
                    <h2 class="section-title">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</h2>
                    
                    <div class="alert alert-info">
                        –§—É–Ω–∫—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ. –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–µ–º–æ-—Ä–µ–∂–∏–º.
                    </div>
                    
                    <div style="display: flex; gap: 15px; margin-top: 30px;">
                        <button class="btn btn-secondary" onclick="showScreen('dashboard')">
                            ‚Üê –ù–∞–∑–∞–¥
                        </button>
                        <button class="btn btn-success" onclick="showAlert('–§—É–Ω–∫—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ —Å–ª–µ–¥—É—é—â–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏', 'info')">
                            <span class="btn-icon">üöÄ</span> –û—Ç–ø—Ä–∞–≤–∏—Ç—å (–¥–µ–º–æ)
                        </button>
                    </div>
                </div>
                
                <!-- –ü–æ–ª—É—á–µ–Ω–∏–µ -->
                <div class="screen" id="receiveScreen">
                    <h2 class="section-title">–ü–æ–ª—É—á–∏—Ç—å</h2>
                    
                    <div style="text-align: center; margin: 30px 0;">
                        <div id="qrCode" style="margin: 0 auto 20px; width: 200px; height: 200px; background: #f0f0f0; border-radius: 10px; display: flex; align-items: center; justify-content: center;">
                            <div>QR –∫–æ–¥ –∞–¥—Ä–µ—Å–∞</div>
                        </div>
                        <div class="wallet-address" style="text-align: center;" id="receiveAddress"></div>
                    </div>
                    
                    <div class="alert alert-info">
                        <strong>‚ÑπÔ∏è –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å —Å—Ä–µ–¥—Å—Ç–≤–∞:</strong><br>
                        1. –ü–æ–¥–µ–ª–∏—Ç–µ—Å—å —ç—Ç–∏–º –∞–¥—Ä–µ—Å–æ–º —Å –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª–µ–º<br>
                        2. –î–ª—è Cosmos –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–µ—Ñ–∏–∫—Å sei1...<br>
                        3. –î–ª—è EVM –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–µ—Ñ–∏–∫—Å 0x...
                    </div>
                    
                    <div style="display: flex; gap: 15px; justify-content: center;">
                        <button class="btn" onclick="copyAddress()">
                            <span class="btn-icon">üìã</span> –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∞–¥—Ä–µ—Å
                        </button>
                        <button class="btn btn-secondary" onclick="showScreen('dashboard')">
                            ‚Üê –ù–∞–∑–∞–¥
                        </button>
                    </div>
                </div>
                
                <!-- –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å -->
                <div class="screen" id="securityScreen">
                    <h2 class="section-title">–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</h2>
                    
                    <div class="alert alert-warning">
                        <strong>‚ö†Ô∏è –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ:</strong> –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –≤–∞—à—É –º–Ω–µ–º–æ–Ω–∏—á–µ—Å–∫—É—é —Ñ—Ä–∞–∑—É –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –º–µ—Å—Ç–µ!
                    </div>
                    
                    <div class="form-group">
                        <label>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ—à–µ–ª—å–∫–µ:</label>
                        <div style="padding: 10px; background: #f0f0f0; border-radius: 10px; font-weight: bold;">
                            <div>–¢–∏–ø: <span id="securityWalletType">Cosmos</span></div>
                            <div style="font-family: monospace; font-size: 12px; margin-top: 5px; color: var(--gray);" id="securityWalletAddress"></div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>–ú–Ω–µ–º–æ–Ω–∏—á–µ—Å–∫–∞—è —Ñ—Ä–∞–∑–∞:</label>
                        <div class="input-with-btn">
                            <input type="password" id="showMnemonicField" readonly>
                            <button class="btn btn-danger" onclick="toggleMnemonicVisibility()" id="toggleMnemonicBtn">
                                <span class="btn-icon">üëÅÔ∏è</span> –ü–æ–∫–∞–∑–∞—Ç—å
                            </button>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>–ü—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á (hex):</label>
                        <div class="input-with-btn">
                            <input type="password" id="showPrivateKeyField" readonly>
                            <button class="btn btn-danger" onclick="togglePrivateKeyVisibility()" id="togglePrivateKeyBtn">
                                <span class="btn-icon">üëÅÔ∏è</span> –ü–æ–∫–∞–∑–∞—Ç—å
                            </button>
                        </div>
                    </div>
                    
                    <div class="alert alert-info">
                        <strong>–≠–∫—Å–ø–æ—Ä—Ç –≤ Metamask (–¥–ª—è EVM):</strong><br>
                        1. –û—Ç–∫—Ä–æ–π—Ç–µ Metamask<br>
                        2. –ù–∞–∂–º–∏—Ç–µ "Import Account"<br>
                        3. –í—Å—Ç–∞–≤—å—Ç–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á<br>
                        4. –í–∞—à –±–∞–ª–∞–Ω—Å –ø–æ—è–≤–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
                    </div>
                    
                    <div style="display: flex; gap: 10px; margin-top: 20px;">
                        <button class="btn" onclick="exportToMetamask()">
                            <span class="btn-icon">ü¶ä</span> –≠–∫—Å–ø–æ—Ä—Ç –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞
                        </button>
                        <button class="btn btn-danger" onclick="showDeleteWallet()">
                            <span class="btn-icon">üóëÔ∏è</span> –£–¥–∞–ª–∏—Ç—å –∫–æ—à–µ–ª–µ–∫
                        </button>
                        <button class="btn btn-secondary" onclick="showScreen('dashboard')">
                            ‚Üê –ù–∞–∑–∞–¥
                        </button>
                    </div>
                </div>
                
            </div>
        </div>
        
        <div style="padding: 20px 30px; background: var(--light); text-align: center; color: var(--gray); font-size: 14px; border-top: 1px solid #e0e0e0;">
            Multi-Chain Wallet ‚Ä¢ v5.0 ‚Ä¢ –õ–æ–∫–∞–ª—å–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è ‚Ä¢ 
            <a href="https://www.sei.io/" target="_blank" style="color: var(--primary); text-decoration: none;">SEI Network</a> ‚Ä¢
            <a href="https://ethereum.org/" target="_blank" style="color: var(--ethereum); text-decoration: none;">Ethereum</a>
        </div>
    </div>

    <script>
        // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
        let currentWallet = null;
        let currentAddress = null;
        let currentWalletType = 'cosmos';
        let createWalletType = 'cosmos';
        let importWalletType = 'cosmos';
        
        // –õ–æ–∫–∞–ª—å–Ω—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∫–æ—à–µ–ª—å–∫–æ–≤
        const LocalWalletGenerator = {
            wordlist: [
                'abandon', 'ability', 'able', 'about', 'above', 'absent', 'absorb', 'abstract', 'absurd', 'abuse',
                'access', 'accident', 'account', 'accuse', 'achieve', 'acid', 'acoustic', 'acquire', 'across', 'act',
                'action', 'actor', 'actress', 'actual', 'adapt', 'add', 'addict', 'address', 'adjust', 'admit',
                'adult', 'advance', 'advice', 'aerobic', 'affair', 'afford', 'afraid', 'again', 'age', 'agent',
                'agree', 'ahead', 'aim', 'air', 'airport', 'aisle', 'alarm', 'album', 'alcohol', 'alert',
                'alien', 'all', 'alley', 'allow', 'almost', 'alone', 'alpha', 'already', 'also', 'alter',
                'always', 'amateur', 'amazing', 'among', 'amount', 'amused', 'analyst', 'anchor', 'ancient', 'anger',
                'angle', 'angry', 'animal', 'ankle', 'announce', 'annual', 'another', 'answer', 'antenna', 'antique'
            ],
            
            // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –º–Ω–µ–º–æ–Ω–∏—á–µ—Å–∫–æ–π —Ñ—Ä–∞–∑—ã
            generateMnemonic: function() {
                const words = [];
                for (let i = 0; i < 12; i++) {
                    const randomIndex = Math.floor(Math.random() * this.wordlist.length);
                    words.push(this.wordlist[randomIndex]);
                }
                return words.join(' ');
            },
            
            // –í–∞–ª–∏–¥–∞—Ü–∏—è –º–Ω–µ–º–æ–Ω–∏—á–µ—Å–∫–æ–π —Ñ—Ä–∞–∑—ã
            validateMnemonic: function(mnemonic) {
                const words = mnemonic.trim().split(/\s+/);
                if (words.length !== 12) return false;
                
                for (const word of words) {
                    if (!this.wordlist.includes(word.toLowerCase())) {
                        return false;
                    }
                }
                return true;
            },
            
            // SHA256 —Ö—ç—à
            sha256: async function(message) {
                const msgBuffer = new TextEncoder().encode(message);
                const hashBuffer = await crypto.subtle.digest('SHA-256', msgBuffer);
                const hashArray = Array.from(new Uint8Array(hashBuffer));
                return hashArray.map(b => b.toString(16).padStart(2, '0')).join('');
            },
            
            // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è EVM –∫–æ—à–µ–ª—å–∫–∞
            generateEVMWallet: async function(mnemonic) {
                console.log('–ì–µ–Ω–µ—Ä–∞—Ü–∏—è EVM –∫–æ—à–µ–ª—å–∫–∞ –∏–∑ –º–Ω–µ–º–æ–Ω–∏–∫–∏:', mnemonic);
                
                // –°–æ–∑–¥–∞–µ–º –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π seed
                const seed = await this.sha256(mnemonic + '|evm');
                
                // –ü—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á (64 hex —Å–∏–º–≤–æ–ª–∞)
                const privateKey = '0x' + seed.substring(0, 64);
                
                // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∞–¥—Ä–µ—Å–∞ EVM (sha256 –æ—Ç –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞ + –±–µ—Ä–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–µ 40 —Å–∏–º–≤–æ–ª–æ–≤)
                const addressHash = await this.sha256(privateKey);
                const address = '0x' + addressHash.substring(24); // –ü–æ—Å–ª–µ–¥–Ω–∏–µ 40 —Å–∏–º–≤–æ–ª–æ–≤ = 20 –±–∞–π—Ç
                
                return {
                    type: 'evm',
                    privateKey: privateKey,
                    publicKey: '0x' + (await this.sha256(privateKey + 'pub')),
                    address: address,
                    mnemonic: mnemonic
                };
            },
            
            // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Cosmos –∫–æ—à–µ–ª—å–∫–∞
            generateCosmosWallet: async function(mnemonic) {
                console.log('–ì–µ–Ω–µ—Ä–∞—Ü–∏—è Cosmos –∫–æ—à–µ–ª—å–∫–∞ –∏–∑ –º–Ω–µ–º–æ–Ω–∏–∫–∏:', mnemonic);
                
                // –°–æ–∑–¥–∞–µ–º –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π seed
                const seed = await this.sha256(mnemonic + '|cosmos');
                
                // –ü—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á
                const privateKey = '0x' + seed;
                
                // –ü—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á
                const publicKey = await this.sha256(seed + 'pub');
                
                // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Cosmos –∞–¥—Ä–µ—Å–∞ (Bech32)
                const address = this.generateBech32Address(publicKey, 'sei');
                
                return {
                    type: 'cosmos',
                    privateKey: privateKey,
                    publicKey: '0x' + publicKey,
                    address: address,
                    mnemonic: mnemonic
                };
            },
            
            // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Bech32 –∞–¥—Ä–µ—Å–∞ (—É–ø—Ä–æ—â–µ–Ω–Ω–∞—è)
            generateBech32Address: function(data, prefix) {
                const charset = 'qpzry9x8gf2tvdw0s3jn54khce6mua7l';
                let encoded = prefix + '1';
                
                // –ü—Ä–æ—Å—Ç–∞—è –∫–æ–¥–∏—Ä–æ–≤–∫–∞ –¥–ª—è –¥–µ–º–æ
                for (let i = 0; i < 20; i++) {
                    const byte = parseInt(data.substr(i * 2, 2), 16) || 0;
                    encoded += charset[byte % 32];
                }
                
                return encoded;
            }
        };
        
        // –•—ç—à —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–∞—Ä–æ–ª—è
        function simpleHash(str) {
            let hash = 0;
            for (let i = 0; i < str.length; i++) {
                const char = str.charCodeAt(i);
                hash = ((hash << 5) - hash) + char;
                hash |= 0;
            }
            return hash.toString(16);
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Wallet initialized');
            checkExistingWallet();
        });
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ—à–µ–ª—å–∫–∞
        async function checkExistingWallet() {
            const savedWallet = localStorage.getItem('multi_chain_wallet');
            if (savedWallet) {
                try {
                    const walletData = JSON.parse(savedWallet);
                    currentWallet = walletData;
                    
                    if (walletData.encrypted) {
                        const password = prompt('–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–æ—à–µ–ª—å–∫—É:');
                        if (!password) {
                            showAlert('–ü–∞—Ä–æ–ª—å –Ω–µ –≤–≤–µ–¥–µ–Ω', 'danger');
                            return;
                        }
                        
                        try {
                            const decrypted = atob(walletData.encrypted);
                            const data = JSON.parse(decrypted);
                            
                            if (data.passwordHash !== simpleHash(password)) {
                                throw new Error('–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å');
                            }
                            
                            currentWallet.mnemonic = data.mnemonic;
                            currentWallet.privateKey = data.privateKey;
                            currentWallet.type = data.type || 'cosmos';
                        } catch (error) {
                            showAlert('–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å –∏–ª–∏ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ', 'danger');
                            localStorage.removeItem('multi_chain_wallet');
                            return;
                        }
                    }
                    
                    currentWalletType = currentWallet.type || 'cosmos';
                    currentAddress = currentWallet.address;
                    
                    if (currentAddress) {
                        showWalletInterface();
                    }
                    
                } catch (error) {
                    console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ—à–µ–ª—å–∫–∞:', error);
                }
            }
        }
        
        // –ü–æ–∫–∞–∑–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–æ—à–µ–ª—å–∫–∞
        function showWalletInterface() {
            showScreen('dashboard');
            document.getElementById('sidebar').style.display = 'block';
            updateWalletDisplay();
        }
        
        // –ü–æ–∫–∞–∑–∞—Ç—å —ç–∫—Ä–∞–Ω
        function showScreen(screenId) {
            // –°–∫—Ä—ã—Ç—å –≤—Å–µ —ç–∫—Ä–∞–Ω—ã
            const screens = document.querySelectorAll('.screen');
            screens.forEach(screen => {
                screen.classList.remove('active');
            });
            
            // –ü–æ–∫–∞–∑–∞—Ç—å –Ω—É–∂–Ω—ã–π —ç–∫—Ä–∞–Ω
            const targetScreen = document.getElementById(screenId + 'Screen');
            if (targetScreen) {
                targetScreen.classList.add('active');
            } else {
                console.error('Screen not found:', screenId + 'Screen');
            }
            
            // –ï—Å–ª–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–æ—à–µ–ª—å–∫–∞, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º sidebar
            if (screenId === 'dashboard' || screenId === 'send' || screenId === 'receive' || screenId === 'security') {
                document.getElementById('sidebar').style.display = 'block';
                updateWalletDisplay();
            } else {
                document.getElementById('sidebar').style.display = 'none';
            }
            
            // –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –¥–ª—è —ç–∫—Ä–∞–Ω–æ–≤
            if (screenId === 'createWallet') {
                initCreateWalletScreen();
            } else if (screenId === 'receive') {
                updateReceiveScreen();
            } else if (screenId === 'security') {
                updateSecurityScreen();
            }
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —ç–∫—Ä–∞–Ω–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ—à–µ–ª—å–∫–∞
        function initCreateWalletScreen() {
            // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –º–Ω–µ–º–æ–Ω–∏—á–µ—Å–∫—É—é —Ñ—Ä–∞–∑—É
            const mnemonic = LocalWalletGenerator.generateMnemonic();
            const words = mnemonic.split(' ');
            
            const wordsContainer = document.getElementById('mnemonicWords');
            wordsContainer.innerHTML = '';
            
            words.forEach((word, index) => {
                const wordElement = document.createElement('div');
                wordElement.className = 'mnemonic-word';
                wordElement.innerHTML = `<span style="color: var(--gray); font-size: 12px;">${index + 1}.</span> ${word}`;
                wordsContainer.appendChild(wordElement);
            });
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
            sessionStorage.setItem('temp_mnemonic', mnemonic);
            sessionStorage.setItem('temp_wallet_type', createWalletType);
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–∏–ø–∞
            updateCreateWalletTypeDisplay();
        }
        
        // –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–∏–ø —Å–æ–∑–¥–∞–≤–∞–µ–º–æ–≥–æ –∫–æ—à–µ–ª—å–∫–∞
        function setCreateWalletType(type) {
            createWalletType = type;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–µ –∫–Ω–æ–ø–∫–∏
            document.getElementById('createCosmosBtn').classList.toggle('active', type === 'cosmos');
            document.getElementById('createEVMBtn').classList.toggle('active', type === 'evm');
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            updateCreateWalletTypeDisplay();
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
            const mnemonic = sessionStorage.getItem('temp_mnemonic');
            if (mnemonic) {
                sessionStorage.setItem('temp_wallet_type', type);
            }
        }
        
        // –û–±–Ω–æ–≤–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–∏–ø–∞ –∫–æ—à–µ–ª—å–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏
        function updateCreateWalletTypeDisplay() {
            const display = document.getElementById('createWalletTypeDisplay');
            if (display) {
                display.textContent = createWalletType === 'cosmos' ? 'Cosmos (SEI)' : 'EVM (Ethereum)';
            }
        }
        
        // –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–∏–ø –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º–æ–≥–æ –∫–æ—à–µ–ª—å–∫–∞
        function setImportWalletType(type) {
            importWalletType = type;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–µ –∫–Ω–æ–ø–∫–∏
            document.getElementById('importCosmosBtn').classList.toggle('active', type === 'cosmos');
            document.getElementById('importEVMBtn').classList.toggle('active', type === 'evm');
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            const display = document.getElementById('importWalletTypeDisplay');
            if (display) {
                display.textContent = type === 'cosmos' ? 'Cosmos (SEI)' : 'EVM (Ethereum)';
            }
        }
        
        // –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∫–æ—à–µ–ª—å–∫–∞
        async function createNewWallet() {
            const mnemonic = sessionStorage.getItem('temp_mnemonic');
            const walletType = sessionStorage.getItem('temp_wallet_type') || createWalletType;
            const password = document.getElementById('walletPassword').value;
            const passwordConfirm = document.getElementById('walletPasswordConfirm').value;
            
            if (!password || password.length < 8) {
                showAlert('–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–µ –º–µ–Ω–µ–µ 8 —Å–∏–º–≤–æ–ª–æ–≤', 'danger');
                return;
            }
            
            if (password !== passwordConfirm) {
                showAlert('–ü–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç', 'danger');
                return;
            }
            
            const button = document.getElementById('createWalletBtn');
            const originalText = button.innerHTML;
            button.innerHTML = '<span class="loading"></span> –°–æ–∑–¥–∞–Ω–∏–µ...';
            button.disabled = true;
            
            try {
                console.log(`–°–æ–∑–¥–∞–Ω–∏–µ ${walletType} –∫–æ—à–µ–ª—å–∫–∞`);
                
                let wallet;
                if (walletType === 'evm') {
                    wallet = await LocalWalletGenerator.generateEVMWallet(mnemonic);
                } else {
                    wallet = await LocalWalletGenerator.generateCosmosWallet(mnemonic);
                }
                
                currentAddress = wallet.address;
                currentWalletType = walletType;
                
                const walletData = {
                    address: currentAddress,
                    type: walletType,
                    createdAt: new Date().toISOString()
                };
                
                const encryptedData = {
                    mnemonic: wallet.mnemonic,
                    privateKey: wallet.privateKey,
                    publicKey: wallet.publicKey,
                    type: walletType,
                    passwordHash: simpleHash(password),
                    timestamp: Date.now()
                };
                
                walletData.encrypted = btoa(JSON.stringify(encryptedData));
                
                localStorage.setItem('multi_chain_wallet', JSON.stringify(walletData));
                
                currentWallet = walletData;
                
                // –û—á–∏—â–∞–µ–º –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
                sessionStorage.removeItem('temp_mnemonic');
                sessionStorage.removeItem('temp_wallet_type');
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–æ—à–µ–ª—å–∫–∞
                showWalletInterface();
                
                const typeName = walletType === 'cosmos' ? 'Cosmos' : 'EVM';
                showAlert(`–ö–æ—à–µ–ª–µ–∫ ${typeName} —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω!`, 'success');
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –¥–µ—Ç–∞–ª–∏
                const details = document.getElementById('walletDetails');
                if (details) {
                    details.innerHTML = `
                        <strong>‚úÖ –ö–æ—à–µ–ª–µ–∫ —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω!</strong><br>
                        –¢–∏–ø: ${typeName}<br>
                        –ê–¥—Ä–µ—Å: ${currentAddress}<br>
                        –ü—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á: ${wallet.privateKey.substring(0, 20)}...<br>
                        <br>
                        <strong>–í–∞–∂–Ω–æ:</strong> –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –º–Ω–µ–º–æ–Ω–∏—á–µ—Å–∫—É—é —Ñ—Ä–∞–∑—É!
                    `;
                }
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ—à–µ–ª—å–∫–∞:', error);
                showAlert('–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ—à–µ–ª—å–∫–∞: ' + error.message, 'danger');
            } finally {
                button.innerHTML = originalText;
                button.disabled = false;
            }
        }
        
        // –ò–º–ø–æ—Ä—Ç –∫–æ—à–µ–ª—å–∫–∞
        async function importExistingWallet() {
            const mnemonic = document.getElementById('importMnemonic').value.trim();
            const password = document.getElementById('importPassword').value;
            const walletType = importWalletType;
            
            if (!mnemonic) {
                showAlert('–í–≤–µ–¥–∏—Ç–µ –º–Ω–µ–º–æ–Ω–∏—á–µ—Å–∫—É—é —Ñ—Ä–∞–∑—É', 'danger');
                return;
            }
            
            if (!LocalWalletGenerator.validateMnemonic(mnemonic)) {
                showAlert('–ù–µ–≤–µ—Ä–Ω–∞—è –º–Ω–µ–º–æ–Ω–∏—á–µ—Å–∫–∞—è —Ñ—Ä–∞–∑–∞', 'danger');
                return;
            }
            
            if (!password || password.length < 8) {
                showAlert('–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–µ –º–µ–Ω–µ–µ 8 —Å–∏–º–≤–æ–ª–æ–≤', 'danger');
                return;
            }
            
            const button = document.getElementById('importWalletBtn');
            const originalText = button.innerHTML;
            button.innerHTML = '<span class="loading"></span> –ò–º–ø–æ—Ä—Ç...';
            button.disabled = true;
            
            try {
                let wallet;
                if (walletType === 'evm') {
                    wallet = await LocalWalletGenerator.generateEVMWallet(mnemonic);
                } else {
                    wallet = await LocalWalletGenerator.generateCosmosWallet(mnemonic);
                }
                
                currentAddress = wallet.address;
                currentWalletType = walletType;
                
                const walletData = {
                    address: currentAddress,
                    type: walletType,
                    importedAt: new Date().toISOString()
                };
                
                const encryptedData = {
                    mnemonic: wallet.mnemonic,
                    privateKey: wallet.privateKey,
                    publicKey: wallet.publicKey,
                    type: walletType,
                    passwordHash: simpleHash(password),
                    timestamp: Date.now()
                };
                
                walletData.encrypted = btoa(JSON.stringify(encryptedData));
                
                localStorage.setItem('multi_chain_wallet', JSON.stringify(walletData));
                
                currentWallet = walletData;
                
                showWalletInterface();
                
                const typeName = walletType === 'cosmos' ? 'Cosmos' : 'EVM';
                showAlert(`–ö–æ—à–µ–ª–µ–∫ ${typeName} —É—Å–ø–µ—à–Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω!`, 'success');
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∏–º–ø–æ—Ä—Ç–∞ –∫–æ—à–µ–ª—å–∫–∞:', error);
                showAlert('–û—à–∏–±–∫–∞ –∏–º–ø–æ—Ä—Ç–∞ –∫–æ—à–µ–ª—å–∫–∞: ' + error.message, 'danger');
            } finally {
                button.innerHTML = originalText;
                button.disabled = false;
            }
        }
        
        // –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Metamask
        async function connectMetamask() {
            if (typeof window.ethereum !== 'undefined') {
                try {
                    const accounts = await window.ethereum.request({ 
                        method: 'eth_requestAccounts' 
                    });
                    
                    const address = accounts[0];
                    
                    const walletData = {
                        address: address,
                        type: 'metamask',
                        metamask: true,
                        connectedAt: new Date().toISOString()
                    };
                    
                    localStorage.setItem('multi_chain_wallet', JSON.stringify(walletData));
                    
                    currentWallet = walletData;
                    currentAddress = address;
                    currentWalletType = 'metamask';
                    
                    showWalletInterface();
                    showAlert('Metamask —É—Å–ø–µ—à–Ω–æ –ø–æ–¥–∫–ª—é—á–µ–Ω!', 'success');
                    
                } catch (error) {
                    console.error('–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è Metamask:', error);
                    showAlert('–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è Metamask: ' + error.message, 'danger');
                }
            } else {
                showAlert('Metamask –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ Metamask.', 'danger');
            }
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–æ—à–µ–ª—å–∫–∞
        function updateWalletDisplay() {
            if (!currentAddress) return;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∞–¥—Ä–µ—Å–∞
            const elements = ['walletAddress', 'receiveAddress', 'securityWalletAddress'];
            elements.forEach(id => {
                const el = document.getElementById(id);
                if (el) el.textContent = currentAddress;
            });
            
            // –°–æ–∫—Ä–∞—â–µ–Ω–Ω—ã–π –∞–¥—Ä–µ—Å
            const shortAddress = currentAddress.substring(0, 12) + '...' + 
                               currentAddress.substring(currentAddress.length - 8);
            document.getElementById('shortAddress').textContent = shortAddress;
            
            // –¢–∏–ø –∫–æ—à–µ–ª—å–∫–∞
            const walletTypeNames = {
                'cosmos': 'Cosmos',
                'evm': 'EVM',
                'metamask': 'Metamask'
            };
            const displayType = walletTypeNames[currentWalletType] || currentWalletType;
            
            document.getElementById('walletTypeDisplay').textContent = displayType;
            document.getElementById('securityWalletType').textContent = displayType;
            
            // –ë–µ–π–¥–∂
            const badge = document.getElementById('walletTypeBadge');
            if (badge) {
                badge.textContent = displayType;
                badge.className = 'wallet-type-badge ' + 
                    (currentWalletType === 'cosmos' ? 'badge-cosmos' : 
                     currentWalletType === 'evm' ? 'badge-evm' : 'badge-metamask');
            }
            
            // –°–∏–º–≤–æ–ª
            const symbol = currentWalletType === 'cosmos' ? 'SEI' : 'ETH';
            document.getElementById('balanceSymbol').textContent = symbol;
            document.getElementById('dashboardSymbol').textContent = symbol;
            
            // –°–µ—Ç—å
            const networkName = currentWalletType === 'cosmos' ? 'SEI Network' : 
                              currentWalletType === 'evm' ? 'Ethereum' : 'Metamask';
            document.getElementById('networkName').textContent = networkName;
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —ç–∫—Ä–∞–Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏—è
        function updateReceiveScreen() {
            if (currentAddress) {
                document.getElementById('receiveAddress').textContent = currentAddress;
            }
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —ç–∫—Ä–∞–Ω–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
        function updateSecurityScreen() {
            if (currentWallet && currentWallet.encrypted) {
                // –û—á–∏—â–∞–µ–º –ø–æ–ª—è
                document.getElementById('showMnemonicField').value = '';
                document.getElementById('showPrivateKeyField').value = '';
                document.getElementById('toggleMnemonicBtn').innerHTML = '<span class="btn-icon">üëÅÔ∏è</span> –ü–æ–∫–∞–∑–∞—Ç—å';
                document.getElementById('togglePrivateKeyBtn').innerHTML = '<span class="btn-icon">üëÅÔ∏è</span> –ü–æ–∫–∞–∑–∞—Ç—å';
            }
        }
        
        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–∏–ø–∞ –∫–æ—à–µ–ª—å–∫–∞
        async function switchWalletType(type) {
            if (!currentWallet || !currentWallet.mnemonic) {
                showAlert('–°–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞–π—Ç–µ –∏–ª–∏ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –∫–æ—à–µ–ª–µ–∫', 'warning');
                return;
            }
            
            if (currentWalletType === 'metamask') {
                showAlert('–ù–µ–ª—å–∑—è –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–∏–ø Metamask –∫–æ—à–µ–ª—å–∫–∞', 'warning');
                return;
            }
            
            try {
                let wallet;
                if (type === 'evm') {
                    wallet = await LocalWalletGenerator.generateEVMWallet(currentWallet.mnemonic);
                } else {
                    wallet = await LocalWalletGenerator.generateCosmosWallet(currentWallet.mnemonic);
                }
                
                currentAddress = wallet.address;
                currentWalletType = type;
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
                if (currentWallet.encrypted) {
                    try {
                        const decrypted = atob(currentWallet.encrypted);
                        const data = JSON.parse(decrypted);
                        data.type = type;
                        
                        currentWallet.type = type;
                        currentWallet.encrypted = btoa(JSON.stringify(data));
                        localStorage.setItem('multi_chain_wallet', JSON.stringify(currentWallet));
                    } catch (error) {
                        console.error('–û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö:', error);
                    }
                }
                
                updateWalletDisplay();
                
                showAlert(`–¢–∏–ø –∫–æ—à–µ–ª—å–∫–∞ –∏–∑–º–µ–Ω–µ–Ω –Ω–∞: ${type === 'cosmos' ? 'Cosmos' : 'EVM'}`, 'success');
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ç–∏–ø–∞:', error);
                showAlert('–û—à–∏–±–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ç–∏–ø–∞ –∫–æ—à–µ–ª—å–∫–∞', 'danger');
            }
        }
        
        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∏–¥–∏–º–æ—Å—Ç–∏ –º–Ω–µ–º–æ–Ω–∏—á–µ—Å–∫–æ–π —Ñ—Ä–∞–∑—ã
        function toggleMnemonicVisibility() {
            const input = document.getElementById('showMnemonicField');
            const button = document.getElementById('toggleMnemonicBtn');
            
            if (input.type === 'password') {
                if (currentWallet && currentWallet.encrypted) {
                    const password = prompt('–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å –¥–ª—è —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∏:');
                    if (password) {
                        try {
                            const decrypted = atob(currentWallet.encrypted);
                            const data = JSON.parse(decrypted);
                            
                            if (data.passwordHash !== simpleHash(password)) {
                                showAlert('–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å', 'danger');
                                return;
                            }
                            
                            input.value = data.mnemonic;
                            input.type = 'text';
                            button.innerHTML = '<span class="btn-icon">üîí</span> –°–∫—Ä—ã—Ç—å';
                        } catch {
                            showAlert('–û—à–∏–±–∫–∞ —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∏', 'danger');
                        }
                    }
                }
            } else {
                input.value = '';
                input.type = 'password';
                button.innerHTML = '<span class="btn-icon">üëÅÔ∏è</span> –ü–æ–∫–∞–∑–∞—Ç—å';
            }
        }
        
        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∏–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞
        function togglePrivateKeyVisibility() {
            const input = document.getElementById('showPrivateKeyField');
            const button = document.getElementById('togglePrivateKeyBtn');
            
            if (input.type === 'password') {
                if (currentWallet && currentWallet.encrypted) {
                    const password = prompt('–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å –¥–ª—è —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∏:');
                    if (password) {
                        try {
                            const decrypted = atob(currentWallet.encrypted);
                            const data = JSON.parse(decrypted);
                            
                            if (data.passwordHash !== simpleHash(password)) {
                                showAlert('–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å', 'danger');
                                return;
                            }
                            
                            input.value = data.privateKey;
                            input.type = 'text';
                            button.innerHTML = '<span class="btn-icon">üîí</span> –°–∫—Ä—ã—Ç—å';
                        } catch {
                            showAlert('–û—à–∏–±–∫–∞ —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∏', 'danger');
                        }
                    }
                }
            } else {
                input.value = '';
                input.type = 'password';
                button.innerHTML = '<span class="btn-icon">üëÅÔ∏è</span> –ü–æ–∫–∞–∑–∞—Ç—å';
            }
        }
        
        // –≠–∫—Å–ø–æ—Ä—Ç –≤ Metamask
        function exportToMetamask() {
            if (currentWalletType === 'metamask') {
                showAlert('–≠—Ç–æ —É–∂–µ Metamask –∫–æ—à–µ–ª–µ–∫', 'info');
                return;
            }
            
            if (currentWallet && currentWallet.encrypted) {
                const password = prompt('–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å –¥–ª—è —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∏ –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞:');
                if (password) {
                    try {
                        const decrypted = atob(currentWallet.encrypted);
                        const data = JSON.parse(decrypted);
                        
                        if (data.passwordHash !== simpleHash(password)) {
                            showAlert('–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å', 'danger');
                            return;
                        }
                        
                        const privateKey = data.privateKey;
                        
                        alert(`–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞ –≤ Metamask:\n\n1. –û—Ç–∫—Ä–æ–π—Ç–µ Metamask —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ\n2. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É –ø—Ä–æ—Ñ–∏–ª—è\n3. –í—ã–±–µ—Ä–∏—Ç–µ "Import Account"\n4. –í—Å—Ç–∞–≤—å—Ç–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á:\n${privateKey}\n5. –ù–∞–∂–º–∏—Ç–µ "Import"`);
                        
                        navigator.clipboard.writeText(privateKey);
                        showAlert('–ü—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞', 'success');
                        
                    } catch (error) {
                        showAlert('–û—à–∏–±–∫–∞ —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∏ –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞', 'danger');
                    }
                }
            } else {
                showAlert('–ù–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–≥–æ –∫–æ—à–µ–ª—å–∫–∞', 'warning');
            }
        }
        
        // –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–¥—Ä–µ—Å–∞
        function copyAddress() {
            if (!currentAddress) return;
            
            navigator.clipboard.writeText(currentAddress).then(() => {
                showAlert('–ê–¥—Ä–µ—Å —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞', 'success');
            }).catch(err => {
                console.error('–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è:', err);
                showAlert('–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è', 'danger');
            });
        }
        
        // –ü–æ–∫–∞–∑–∞—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–∏—è –∫–æ—à–µ–ª—å–∫–∞
        function showDeleteWallet() {
            if (confirm('–í–ù–ò–ú–ê–ù–ò–ï: –≠—Ç–æ —É–¥–∞–ª–∏—Ç –∫–æ—à–µ–ª–µ–∫ —Å —ç—Ç–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.\n\n–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å –º–Ω–µ–º–æ–Ω–∏—á–µ—Å–∫–∞—è —Ñ—Ä–∞–∑–∞ –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è!\n\n–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å?')) {
                localStorage.removeItem('multi_chain_wallet');
                currentWallet = null;
                currentAddress = null;
                location.reload();
            }
        }
        
        // –í—ã—Ö–æ–¥ –∏–∑ –∫–æ—à–µ–ª—å–∫–∞
        function logout() {
            if (confirm('–í—ã–π—Ç–∏ –∏–∑ –∫–æ—à–µ–ª—å–∫–∞?')) {
                localStorage.removeItem('multi_chain_wallet');
                currentWallet = null;
                currentAddress = null;
                location.reload();
            }
        }
        
        // –ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
        function showAlert(message, type) {
            const alert = document.createElement('div');
            alert.className = `alert alert-${type}`;
            alert.innerHTML = `<strong>${type === 'success' ? '‚úÖ' : type === 'warning' ? '‚ö†Ô∏è' : '‚ùå'}</strong> ${message}`;
            alert.style.position = 'fixed';
            alert.style.top = '20px';
            alert.style.right = '20px';
            alert.style.zIndex = '1000';
            alert.style.maxWidth = '400px';
            alert.style.boxShadow = '0 5px 15px rgba(0,0,0,0.1)';
            
            document.body.appendChild(alert);
            
            setTimeout(() => {
                alert.remove();
            }, 5000);
        }
    </script>
</body>
</html>
